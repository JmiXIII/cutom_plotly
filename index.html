<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>My Grist Chart Widget</title>
  <!-- Include Plotly.js library -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://docs.getgrist.com/grist-plugin-api.js"></script>
</head>

<body>
     <!-- Create a container element for the chart -->
     <div id="chart-container"></div>
     <script>
// Wait for the Grist API to be ready
grist.ready();

// When the page loads, render a chart based on the data in the column
grist.onLoad(async function() {
  // Get the column you want to visualize
  const column = await grist.getColumn('myDataColumn');

  // Get all the records in the table
  const records = await grist.getRecords();

  // Extract the data for the chart from the column in each record
  const data = records.map(record => record[column.colRef]);

  // Define the trace for the chart
  const trace = {
    y: data,
    type: 'bar',
  };

  // Define the layout of the chart
  const layout = {
    width: 400,
    height: 300,
    margin: { t: 0, r: 0, b: 30, l: 30 },
    xaxis: { title: 'My Data' },
    yaxis: { title: 'Count' },
  };

  // Create the chart using Plotly.js
  Plotly.newPlot('chart-container', [trace], layout);
});

  </script>
</body>

</html>